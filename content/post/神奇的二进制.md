---
title: "神奇的二进制"
date: 2016-01-30
draft: false
tags: ["OI", "位运算"]
# categories: ["docs", "shortcodes", "index"]
author: "Tom Smith"
---

二进制是一个很有趣的东西，它是电脑中储存信息的最小单位，其中有一些非常神奇的用法。其实是写二进制题目写得要死。

1. 二进制在电脑中是以补码的形式存在的，从原码得到补码的方法是，正数的原码就是补码，而负数的原码通过取反再加一的方法可以得到补码。补码不像我们常用的原码，更适用于电脑运算，计算数字位的时候顺便可以计算符号位，而且加法和减法的电路可以共用一个（只需要让a-b变成a+（-b）即可），不光便利的电路的实现，补码也带来了很多优秀的性质。首先最重要的是-0和+0的补码是一样的。在我们现实生活中的数学概念中，是没有-0的说法的，0就是0，并没有符号，但是如果采用原码的话就会有00000000（+0）和10000000（-0）（这里统一使用八位二进制）的区分，而补码00000000->11111111->11111111+1->00000000这样就和数学形成了统一。

2. 二进制的一些基本操作这里就不再赘述。

	* &：01001010&01010101=01000000
	* |：01001010|01010101=01011111
	* ^：01001010^01010101=00011111
	* ~：~01001010=10110101
	* -：-10110101=10110110
	* <<：10110101<<4=01010000
	* >>：10110101>>4=00001011

3. 二进制的各种魔性的用法：

	* 活用>>实现整数除以2^n，1<<n快速求2^n。
	* 利用位来进行状态压缩，一个int有三十二位，可以想像成三十二个棋子，比如：01010101就可表达2、4、6、8位上放了棋子。

	* 通过x&-x可以获取到二进制中最低位的1，棋子而在状态压缩中可以很快的确定哪个位置有不是循环搜一遍，是树状数组最重要的操作。状态压缩：01011010&-01011010->01011010&10100110->00000010第二位的棋子便被取了出来，让后通过01011010^00000010就可把这个棋子位置置零下次就不会再取到这个棋子，当取到00000000也就是0的时候证明已经取完了。当然还有另外一种方法处理，就是x&（x-1）这个是直接去掉最后一个一并返回去掉之后的值。

	* 01011010&01011010-1->01011010&01011001->01011000就是去掉最后一位的结果。

